<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WattNest</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
    <script src="js/firebaseConfig.js" defer></script>
    <script src="js/app.js" defer></script>
    <style>
        /* Additional CSS for modal */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <img src="assets/images/logo.png" alt="WattNest Logo" style="height: 380px; vertical-align: middle;">
        <nav>
            <ul>
                <li><a href="#charging-stations">Charging Stations</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#about">About Us</a></li>
                <li><a href="#contact">Contact</a></li>
                <li class="dropdown">
                    <a href="#login" class="dropbtn">More</a>
                    <div class="dropdown-content">
                        <a href="#about">About Us</a>
                        <a href="#" onclick="openModal('settings.html')">Settings</a>
                        <a href="#" onclick="openModal('payments.html')">Payments</a>
                        <a href="#" onclick="openModal('learn.html')">Learn</a>
                        <a href="#" onclick="openModal('history.html')">History</a>
                        <a href="#" onclick="openModal('terms.html')">Terms & Conditions</a>
                    </div>
                </li>                
                <li><a href="#" onclick="openModal('login.html')">Login</a></li>
            </ul>
        </nav>
    </header>

    <!-- Modal Structure -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <iframe id="modalFrame" src="" frameborder="0" style="width: 100%; height: 400px;"></iframe>
        </div>
    </div>

    <main>
        <section id="brand-selection">
            <div class="brand-container">
                <!-- Brand images dynamically populated from Firebase -->
            </div>
        </section>
        <section id="charging-stations">
            <h2>Charging Stations </h2>
            <ul id="stations-list"></ul>
        </section>
        
        <section id="features">
            <h2>Features</h2>
            <div class="feature-cards">
                <div class="feature-card">
                    <h3>Real-Time Availability</h3>
                    <p>Stay informed about available charging spots in real-time, ensuring you never waste a trip to a full station.</p>
                </div>
                <div class="feature-card">
                    <h3>User-Friendly Interface</h3>
                    <p>Enjoy a smooth and intuitive interface designed to make finding and using charging stations effortless.</p>
                </div>
                <div class="feature-card">
                    <h3>Route Optimization</h3>
                    <p>Optimize your trip with smart routing to nearby charging stations along your journey.</p>
                </div>
                <div class="feature-card">
                    <h3>Secure Payments</h3>
                    <p>Experience safe and easy payment options directly within the app, supporting various payment methods.</p>
                </div>
                <div class="feature-card">
                    <h3>Favorites & History</h3>
                    <p>Save your favorite stations and view your charging history for quick access and convenience.</p>
                </div>
            </div>
        </section>        

        <section id="about">
            <h2>About Us</h2>
            <p>At WattNest, we envision a future where charging your electric vehicle is as seamless and intuitive as the drive itself. Our platform connects EV users with a wide network of charging stations, using real-time updates and smart routing to make finding a charge easy and reliable. We’re dedicated to powering the shift towards sustainable transportation, one charge at a time.</p>
            
            <h3>About the Developer</h3>
            <div class="developer-info">
                <img src="assets/images/har.png" alt="Harsha N" class="developer-image">
                <p>WattNest was developed by Harsha N, a passionate Web Developer focused on crafting impactful, 
                    user-centered web applications. With a strong commitment to sustainable technology, 
                    he blends innovation and functionality to meet the evolving needs of electric vehicle users. 
                    Harsha leverages his expertise to create seamless user experiences, ensuring that every interaction is intuitive and efficient. His dedication to enhancing web solutions reflects a desire to contribute positively to the tech landscape. By prioritizing user needs, Harsha aims to foster a more sustainable future. 
                    His work embodies a perfect synergy between technology and environmental responsibility.</p>
            </div>
        </section>             
        
        <section id="contact" class="contact">
            <div class="container" data-aos="fade-up">
        
                <div class="section-title">
                    <h2>Contact</h2>
                    <p>For any inquiries, project discussions, or collaboration opportunities, I’m always open to connect. You can reach me via email or phone, and I’m also available on LinkedIn for professional networking. Let’s work together to create something impactful!</p>
                </div>
        
                <div>
                    <iframe 
                        style="border:0; width: 100%; height: 270px;" 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3783.685049840493!2d77.66810331543952!3d12.874751012735354!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae6d006001820f%3A0x5323294eadba0363!2sNisarga%20Sun%20Power!5e0!3m2!1sen!2sin!4v1696816501998!5m2!1sen!2sin" 
                        frameborder="0" 
                        allowfullscreen>
                    </iframe>
                </div>
        
                <div class="row mt-5">
                    <div class="col-lg-4">
                        <div class="info">
                            <div class="address">
                                <a href="https://www.google.com/maps/search/?api=1&query=Naganathapura,+Electronic+City+Post,+Bengaluru" target="_blank">
                                    <i class="bi bi-geo-alt"></i>
                                    <h4>Location:</h4>
                                    <p>Naganathapura, Electronic City Post, Bengaluru</p>
                                </a>
                            </div>
        
                            <div class="email">
                                <a href="mailto:hv6152239@gmail.com">
                                    <i class="bi bi-envelope"></i>
                                    <h4>Email:</h4>
                                    <p>hv6152239@gmail.com</p>
                                </a>
                            </div>
        
                            <div class="phone">
                                <a href="tel:+918867132911">
                                    <i class="bi bi-phone"></i>
                                    <h4>Call:</h4>
                                    <p>+91 8867132911</p>
                                </a>
                            </div>
                        </div>
                    </div>
        
                    <div class="col-lg-8 mt-5 mt-lg-0">
                        <form id="contactForm" role="form" class="php-email-form">
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" required>
                                </div>
                                <div class="col-md-6 form-group mt-3 mt-md-0">
                                    <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" required>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject" required>
                            </div>
                            <div class="form-group mt-3">
                                <textarea class="form-control" name="message" id="message" rows="5" placeholder="Message" required></textarea>
                            </div>
                            <div class="text-center"><button type="submit">Send Message</button></div>
                        </form>
                    </div>
        
                    <script>
                        document.getElementById('contactForm').addEventListener('submit', function(e) {
                            e.preventDefault();
        
                            var name = document.getElementById('name').value;
                            var email = document.getElementById('email').value;
                            var subject = document.getElementById('subject').value;
                            var message = document.getElementById('message').value;
        
                            var whatsappMessage = `Hello, my name is ${name}. \nEmail: ${email} \nSubject: ${subject} \nMessage: ${message}`;
                            var whatsappUrl = `https://wa.me/918867132911?text=${encodeURIComponent(whatsappMessage)}`;
        
                            window.open(whatsappUrl, '_blank');
                        });
                    </script>
        
                </div>
            </div>
        </section>
        
        
    </main>

    <footer>
        <p>&copy; WattNest. All rights reserved.</p>
    </footer>

    <script>
        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Populate city dropdown from Firebase
        async function loadCities() {
            const citiesDropdown = document.getElementById('city-select');
            const citiesSnapshot = await db.collection('cities').get();
            citiesSnapshot.forEach((doc) => {
                const option = document.createElement('option');
                option.value = doc.id;
                option.textContent = doc.id;
                citiesDropdown.appendChild(option);
            });
        }

        function openModal(file) {
            document.getElementById('modalFrame').src = file; // Set the source of the iframe
            document.getElementById('myModal').style.display = "block"; // Show the modal
        }

        function closeModal() {
            document.getElementById('myModal').style.display = "none"; // Hide the modal
            document.getElementById('modalFrame').src = ""; // Clear the iframe source
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            if (event.target === document.getElementById('myModal')) {
                closeModal();
            }
        }

        // Load cities on page load
        window.onload = loadCities;
    </script>
</body>
</html>
